<h1><%= t("titles.post_idea_list") %></h1>

<ul>
  <% @posts.each do |post| %>
    <li class="mb-4 p-2 border rounded flex items-center gap-2">
      <!-- ユーザーアイコン -->
      <%= link_to user_path(post.user) do %>
        <div class="w-10 h-10 flex items-center justify-center rounded-full bg-orange-600 text-white text-sm font-bold shadow-md border border-white">
          <%= post.user.initial_icon %>
        </div>
      <% end %>

      <!-- ユーザー名とジャンル -->
      <div>
        <%= link_to post.user.display_name, user_path(post.user), class: "font-semibold text-blue-600 hover:underline" %>
        (<%= post.genre.name %>) : <%= post.content %>
      </div>

      <!-- 編集・削除ボタン -->
      <% if user_signed_in? && post.user == current_user %>
        <div class="ml-auto flex gap-1">
          <%= link_to t("buttons.edit"), edit_post_path(post, from: request.path), class: "px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm" %>
          <%= link_to t("buttons.destroy"), post_path(post),
                data: { turbo_method: :delete, turbo_confirm: "削除しますか？" },
                class: "px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-sm" %>
        </div>
      <% end %>
    </li>
  <% end %>
</ul>
